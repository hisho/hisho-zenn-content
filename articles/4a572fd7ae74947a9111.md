---
title: "è‡ªåˆ†ãŒã‚ˆãä½¿ã†WP-CLIã¾ã¨ã‚"
emoji: "ğŸ”§"
type: "tech"
topics: ["WordPress"]
published: true
---
    
## WP-CLIã¨ã¯

> WP-CLI ã¯ WordPress ã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã®ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§ã™ã€‚ ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚„ãƒãƒ«ãƒã‚µã‚¤ãƒˆã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãªã©ã®å¤šãã®ã“ã¨ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ç„¡ã—ã§è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚

ã¤ã¾ã‚Šã€WordPressã®åˆæœŸè¨­å®šã‚’ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰å®Ÿè¡Œã§ãã‚‹ã®ã§ã€æ™‚çŸ­ãŒã§ãã‚‹æ„Ÿã˜ã§ã™ã€‚   
https://wp-cli.org/ja/   
Localãªã‚‰ãƒ“ãƒ«ãƒ‰ã‚¤ãƒ³ã§WP-CLIãŒä½¿ãˆã‚‹ã®ã§ã€ä»Šå›ã¯ãã‚Œã‚’ä½¿ã£ã¦ã„ã“ã†ã¨æ€ã„ã¾ã™ã€‚   
https://localwp.com/

## å‹•ä½œç’°å¢ƒ
- OS: macOS Big Sur11.2.3
- Local: 5.10.3
- WordPress: 5.7.1
- WP-CLI: 2.5.0-alpha

## ã‚³ãƒãƒ³ãƒ‰

### WordPressã‚’æŒ‡å®šã—ãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«å¤‰æ›´ã™ã‚‹ 
updateã ãŒä½ã„`version`ã¨`--force`ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§ãƒ€ã‚¦ãƒ³ã‚°ãƒ¬ãƒ¼ãƒ‰ã‚‚å¯èƒ½
```shell
$ wp core update --version=5.0.0 --force
``` 

### æ—¥æœ¬èªåŒ–ã™ã‚‹
```shell
$ wp core language install ja --activate
```

### ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã‚’Asia/Tokyoã«ã™ã‚‹
```shell
$ wp option update timezone_string 'Asia/Tokyo'
```

### æ—¥ä»˜ã®å½¢å¼ã‚’Y-m-d(2021-01-01)ã«ã™ã‚‹
```shell
$ wp option update date_format 'Y-m-d'
```

### æ™‚é–“ã®å½¢å¼ã‚’H:i(00:01)ã«ã™ã‚‹
```shell
$ wp option update time_format 'H:i'
```

### ãƒ‘ãƒ¼ãƒãƒªãƒ³ã‚¯ã‚’/%post_id%/ã«ã™ã‚‹
```shell
$ wp rewrite structure '/%post_id%/'
```

### æ–°ã—ã„æŠ•ç¨¿ã¸ã®ã‚³ãƒ¡ãƒ³ãƒˆã‚’è¨±å¯ã‚’ã—ãªã„
```shell
$ wp option update default_comment_status closed
```

### ã™ã¹ã¦ã®themeã‚’å‰Šé™¤ã™ã‚‹
```shell
$ wp theme delete --all --force
```

### ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹
```shell
# å˜æ•°
$ wp plugin install wp-multibyte-patch
# è¤‡æ•°
$ wp plugin install wp-multibyte-patch show-current-template
```
#### ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—æœ‰åŠ¹åŒ–ã™ã‚‹
```shell
# å˜æ•°
$ wp plugin install wp-multibyte-patch --activate
# è¤‡æ•°
$ wp plugin install wp-multibyte-patch show-current-template --activate
```

### å›ºå®šãƒšãƒ¼ã‚¸ã‚’ä½œæˆã™ã‚‹
```shell
$ wp post create --post_type=page --post_title="ãƒ•ãƒ­ãƒ³ãƒˆãƒšãƒ¼ã‚¸" --post_name=front --post_status=Publish --porcelain
```


### ãƒ•ãƒ­ãƒ³ãƒˆãƒšãƒ¼ã‚¸ã‚’ä½œæˆã—ãƒ•ãƒ­ãƒ³ãƒˆãƒšãƒ¼ã‚¸ã®è¡¨ç¤ºè¨­å®šã‚’ä½œæˆã—ãŸå›ºå®šãƒšãƒ¼ã‚¸ã«å¤‰æ›´ã™ã‚‹
```shell
$ wp option update show_on_front 'page' && wp option update page_on_front $(wp post create --post_type=page --post_title="ãƒ•ãƒ­ãƒ³ãƒˆãƒšãƒ¼ã‚¸" --post_status=Publish --porcelain)
```

### ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®æŠ•ç¨¿ã‚’å‰Šé™¤ã™ã‚‹
```shell
$ wp post delete 1 2 3 --force
```

### ç¿»è¨³ã‚’æ›´æ–°ã™ã‚‹
â€»å…ˆã«å®Ÿè¡Œã™ã‚‹ã¨ç¿»è¨³æ¼ã‚Œã™ã‚‹ã®ã§å¿…ãšæœ€å¾Œã«å®Ÿè¡Œã—ã¾ã—ã‚‡ã†
```shell
$ wp core language update
```

### ã™ã¹ã¦ã¾ã¨ã‚ã‚‹ğŸ˜
```shell
$ wp core language install ja --activate && wp option update timezone_string 'Asia/Tokyo' && wp option update date_format 'Y-m-d' && wp option update time_format 'H:i' && wp rewrite structure '/%post_id%/' && wp option update default_comment_status closed && wp theme delete --all --force && wp plugin install wp-multibyte-patch && wp plugin install show-current-template --activate && wp option update show_on_front 'page' && wp option update page_on_front $(wp post create --post_type=page --post_title="ãƒ•ãƒ­ãƒ³ãƒˆãƒšãƒ¼ã‚¸" --post_status=Publish --porcelain) && wp post delete 1 2 3 --force && wp core language update
```
ãŸã£ãŸä¸€è¡Œã§ä»¥ä¸‹ã®ã“ã¨ãŒã§ãã¾ã™ã€‚
- æ—¥æœ¬èªåŒ–
- ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³å¤‰æ›´
- æ—¥ä»˜ã®å½¢å¼å¤‰æ›´
- æ™‚é–“ã®å½¢å¼å¤‰æ›´
- ãƒ‘ãƒ¼ãƒãƒªãƒ³ã‚¯å¤‰æ›´
- æ–°ã—ã„æŠ•ç¨¿ã¸ã®ã‚³ãƒ¡ãƒ³ãƒˆã‚’è¨±å¯ã‚’ã—ãªã„
- ã™ã¹ã¦ã®themeã‚’å‰Šé™¤ã™ã‚‹
- ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹
- ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—æœ‰åŠ¹åŒ–ã™ã‚‹
- ãƒ•ãƒ­ãƒ³ãƒˆãƒšãƒ¼ã‚¸ã‚’ä½œæˆã—ãƒ•ãƒ­ãƒ³ãƒˆãƒšãƒ¼ã‚¸ã®è¡¨ç¤ºè¨­å®šã‚’ä½œæˆã—ãŸå›ºå®šãƒšãƒ¼ã‚¸ã«å¤‰æ›´ã™ã‚‹
- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®æŠ•ç¨¿ã‚’å‰Šé™¤ã™ã‚‹
- ç¿»è¨³ã‚’æ›´æ–°ã™ã‚‹